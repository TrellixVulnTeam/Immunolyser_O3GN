{% extends "layout.html" %}

{% block content %}
    
    <div class="custom-control custom-switch">
    <input type="checkbox" class="custom-control-input" id="customSwitch1" onclick="myfunction()">
    <label class="custom-control-label" for="customSwitch1">Percent/Density</label>
  </div>
    <div id="chart" class="chart">
    </div>

    <!-- D3.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <!-- Plotly.js -->
    <script src="https://d14fo0winaifog.cloudfront.net/plotly-basic.js"></script>
 
    <script type="text/javascript">
        
        
        var graphs = {{peptide_percent | safe}};
        var graphsd = {{peptide_density | safe}};
        
        Plotly.plot('chart',graphs,{});        

        function myfunction(){
            checkbox = document.getElementById('customSwitch1');

        if(checkbox.checked){
            Plotly.newPlot('chart',graphsd,{});                    
        }
        else{
            Plotly.newPlot('chart',graphs,{});                    
        }
        }

 
    </script>
{% endblock %}
